<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片懒加载</title>
<style>
	*{
		margin: 0;
		padding:0;
		list-style: none;
	}
	li{
		width: 500px; 
		height: 300px;
		float: left;
		margin-left:20px;
	}
	li img{
		width: 100%;
		height: 100%;
	}
	
	#box{
		width: 1100px;
		margin: auto;
	}
</style>
<script>
	function getPos(obj){
		var l=0;
		var t=0;
		while(obj){
			l+=obj.offsetLelt;
			t+=obj.offsetTop;
			obj=obj.offsetparent;
		}
		return {left:l,top:t}
	}

	window.onresize=window.onscroll=window.onload=function(){
		var oUl=document.getElementById('box');
		var aImg=oUl.getElementsByTagName('img');
		//鼠标滚轮的那个距离
		var scrollTop=document.documentElement.scrollTop || document.body.scrollTop;
		//可视区域的高度
		var clientH=document.documentElement.clientHeight;
		var scrollBottom=scrollTop+clientH;
		for(var i=0;i<aImg.length;i++){
			var oTop=getPos(aImg[i]).top;
			if(scrollBottom>=oTop){
				aImg[i].src=aImg[i].getAttribute('_src')
			}
		}
	}
</script>
</head>
<body>
	<ul id="box">
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
		<li><img _src="img/11.jpg" /></li>
		<li><img _src="img/12.jpg" /></li>
	</ul>
</body>
</html>